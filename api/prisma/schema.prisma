generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Bundles {
  id     Int      @id @default(autoincrement())
  name   String?  @db.VarChar(200)
  cost   Decimal? @db.Decimal(10, 3)
  gameId Int?
}

model Challenges {
  id            Int     @id @default(autoincrement())
  name          String? @db.VarChar(200)
  gameId        Int?
  requirementId Int?
}

model Games {
  id             Int     @id @default(autoincrement())
  steamId        String? @unique(map: "steamId_UNIQUE") @db.VarChar(45)
  name           String? @db.VarChar(45)
  description    String? @db.VarChar(1000)
  gameUrl        String? @db.VarChar(200)
  logo           String? @db.VarChar(200)
  socialTwitter  String? @db.VarChar(200)
  socialDiscord  String? @db.VarChar(200)
  socialTelegram String? @db.VarChar(200)
}

model Requirements {
  id          Int       @id @default(autoincrement())
  description String?   @db.VarChar(1000)
  typeId      Int?
  playedTime  DateTime? @db.Timestamp(6)
  reward      String?   @db.VarChar(45)
}

model Users {
  id            Int     @id @default(autoincrement())
  email         String? @unique(map: "email_UNIQUE") @db.VarChar(200)
  walletAddress String? @unique(map: "walletAddress_UNIQUE") @db.VarChar(42)
  steamId       String? @unique(map: "steamId_UNIQUE") @db.VarChar(100)
  imageUrl      String? @db.VarChar(200)
  auth0Sid      String? @unique(map: "auth0Id_UNIQUE") @db.VarChar(100)
  auth0NickName String? @db.VarChar(45)
  auth0Name     String? @db.VarChar(200)
  auth0Sub      String? @db.VarChar(100)

  @@index([auth0Sid], map: "fk_user_auth0_idx")
  @@index([steamId], map: "fk_user_steam_idx")
}

model Auth0Profile {
  id       Int     @id @default(autoincrement())
  auth0Sid String? @db.VarChar(100)
  nickName String? @db.VarChar(200)
  name     String? @db.VarChar(200)
  sub      String? @db.VarChar(100)
}

model SteamProfile {
  id                       Int       @id @default(autoincrement())
  steamId                  String    @db.VarChar(45)
  communityVisibilityState Int?
  profileState             Int?
  personaName              String?   @db.VarChar(500)
  profileUrl               String?   @db.VarChar(500)
  avatar                   String?   @db.VarChar(500)
  avatarMedium             String?   @db.VarChar(500)
  avatarFull               String?   @db.VarChar(500)
  avatarHash               String?   @db.VarChar(45)
  personaState             Int?
  primaryClanId            String?   @db.VarChar(45)
  timeCreated              DateTime? @db.Timestamp(6)
  personaStateFlags        Int?
  displayName              String?   @db.VarChar(100)
}
